<os-head-bar
    [nav]="false"
    [goBack]="true"
    [editMode]="isEditing"
    [hasMainButton]="canManage()"
    [mainButtonIcon]="'edit'"
    [mainActionTooltip]="'Edit' | translate"
    (cancelEditEvent)="isEditing = !isEditing"
    (mainEvent)="isEditing = !isEditing"
    (saveEvent)="saveChanges()"
>
    <div class="title-slot">
        <h2>{{ 'Legal notice' | translate }}</h2>
    </div>
</os-head-bar>

<os-legal-notice-content
    [canBeEdited]="true"
    [isEditing]="isEditing"
    (update)="legalNotice = $event"
></os-legal-notice-content>

<mat-card class="os-card">
    <div>
        <button type="button" mat-button (click)="resetCache()">
            <span>{{ 'Reset cache' | translate }}</span>
        </button>
    </div>

    <div>
        <button type="button" mat-button (click)="checkForUpdate()">
            <span>{{ 'Check for updates' | translate }}</span>
        </button>
    </div>
</mat-card>

<mat-card class="os-card" *osPerms="'users.can_manage'">
    <h3>{{ 'Statistics' | translate }}</h3>
    <div>
        <h4>{{ 'Count active users' | translate }}</h4>
        <os-count-users></os-count-users>
    </div>
    <div>
        <h4>{{ 'Count active word requests' | translate }}</h4>
        <os-user-statistics></os-user-statistics>
    </div>
</mat-card>
