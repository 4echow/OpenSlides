<os-head-bar [mainButton]="false" [nav]="false">
    <!-- Title -->
    <div class="title-slot"><h2 translate>Presence</h2></div>
</os-head-bar>

<mat-card *ngIf="permission">
    <span translate> Check in or check out participants based on their participant numbers </span>

    <br />
    <mat-form-field [formGroup]="userForm">
        <input osAutofocus
            matInput
            [formControl]="userForm.get('number')"
            placeholder="{{ 'Enter participant number' | translate }}"
            (keyup)="onKeyUp($event)"
        />
    </mat-form-field>
    <button mat-button (click)="changePresence()">Change presence</button>
    <mat-card *ngIf="lastChangedUser" [ngClass]="lastChangedUser.is_present ? 'success' : 'warning'">
        <span>{{ lastChangedUser.full_name }}&nbsp;</span> <span translate> is now</span>
        <span>&nbsp;{{ lastChangedUser.is_present ? 'present' : ('not present' | translate) }}</span>
    </mat-card>
    <mat-card *ngIf="errorMsg" class="error"> {{ errorMsg | translate }} </mat-card>
</mat-card>
