{% extends "poll/base_poll.html" %}
{% block title %}{{ block.super }} - {%trans "Polls" %}{% endblock %}

{% block content %}
    <h1>{%trans "Polls" %}</h1>
    <table>
        <tr>
        <th><a href="?sort=title{% if 'title' in request.GET.sort and 'reverse' not in request.GET %}&reverse{%endif%}">{%trans "Polls" %}</a></th>
        <th>{%trans "Options" %}</th>
        {% if perms.poll.can_manage_poll %}        
            <th>{%trans "Actions" %}</th>
        {% endif %}
        </tr>
    {% for poll in polls %}
        <tr class="{% cycle '' 'odd' %}">
        <td><a href="{% url poll_view poll.id %}">{{ poll }}</a></td>
        <td>{{ poll.get_options|length }}</td>
        {% if perms.poll.can_manage_poll %}
            <td><a href="{% url poll_edit poll.id %}"><img src="/static/images/icons/document-edit.png" title="{%trans 'Edit poll' %}"></a>
                <a href="{% url poll_delete poll.id %}"><img src="/static/images/icons/edit-delete.png" title="{%trans 'Delete poll' %}"></a>
            </td>
        {% endif %}
        </tr>
    {% empty %}
        <tr>
        <td colspan="4"><i>{%trans "No polls available." %}</i></td>
        </tr>
    {% endfor %}
    </table>
{% endblock %}
